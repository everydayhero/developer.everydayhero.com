<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>everydayhero API: Overview</title>
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/stylesheets/pygments.css">
  <link rel="stylesheet" href="/stylesheets/app.css">
  <!--[if lt IE 9]>
    <script src="/javascripts/html5shiv-printshiv.js"></script>
  <![endif]-->
</head>
<body id='page_overview'>
  <header class="header top a--100">
    <a href="/"><h1>everydayhero: Developer</h1></a>
  </header>
  <section class="main center">
    <aside class="l--30 m--100 left side-bar">
      <div class="inner">
        <nav>
            <div id='internal_api'>
              <ul>
                <li><a href="/internal/">Internal API</a>
                  <ul>
                    <li><a href="/internal/campaign-groups/">Campaign Groups</a></li>
                    <li><a href="/internal/charities/">Charities</a></li>
                    <li><a href="/internal/campaigns/">Campaigns</a></li>
                    <li><a href="/internal/registered-applications/">Registered Applications</a></li>
                  </ul>
                </li>
              </ul>
            </div>
            <div id='partner_api'>
              
              <ul>
                <li><a href="/partner/">Partner API</a>
                  <ul>
                    <li><a href="/partner/custom-authentication/">Custom Authentication</a></li>
                    <li><a href="/partner/feed/">Activity Feed</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          <ul>
            <li><a href="/">Introduction</a></li>
            <li>
              <a href="/overview/">Overview</a>
              <ul id='menu_overview'>
                <li><a href="/overview/#environments">Environments</a></li>
                <li><a href="/overview/#schema">Schema</a></li>
                <li><a href="/overview/#parameters">Parameters</a></li>
                <li><a href="/overview/#auth-errors">Auth Errors</a></li>
                <li><a href="/overview/#validation-errors">Validation Errors</a></li>
                <li><a href="/overview/#http-verbs">HTTP Verbs</a></li>
                <li><a href="/overview/#pagination">Pagination</a></li>
                <li><a href="/overview/#caching">Caching</a></li>
                <li><a href="/rate-limits/">Rate limits</a></li>
                <li><a href="/glossary/">Glossary</a></li>
              </ul>
            </li>
            <li><a href="/authentication/">Authentication</a></li>


            <li class='title'>Resources</li>
            <li><a href="/campaigns/">Campaigns</a></li>
            <li> - <a href="/campaign-groups/">Groups</a></li>
            <li><a href="/charities/">Charities</a></li>
            
            <li><a href="/metadata/">Metadata</a></li>
            <li><a href="/pages/">Pages</a></li>
            <li> - <a href="/fitness-activities/">Fitness Activities</a></li>
            <li> - <a href="/posts/">Posts</a></li>
            <li>
              <a href="/teams/">Teams</a>
              <ul id='menu_teams'>
                <li><a href="/invitations/">Invitations</a>
                  <ul>
                    <li><a href="/invitations/#create-individual-page-invitation">Individual Page</a></li>
                    <li><a href="/invitations/#create-join-a-team-invitation">Join Team Invitation</a></li>
                  </ul>
                </li>
                <li><a href="/join-requests/">Join Requests</a></li>
                <li><a href="/members/">Members</a></li>
              </ul>
            </li>
            <li><a href="/users/">Users</a></li>
            <li><a href="/search/#volunteering-opportunities">Volunteering</a></li>
            <li class='title'>Leaderboards</li>
            <li><a href="/leaderboards/">Static Page Leaderboards</a></li>
            <li><a href="/dynamic-leaderboards/">Dynamic Page Leaderboards</a></li>
            <li><a href="/search-fitness-activities/">Fitness Activity Leaderboards</a></li>
            <li class='title'>Search &amp; Totals</li>
            <li><a href="/search/">Search</a></li>
            <li><a href="/totals/">Totals</a></li>

            <li class='title'>Integration Overviews</li>
            <li><a href="/oauth-integration/">OAuth Integration</a></li>
            <li><a href="/notifications/">Alerts/Notifications</a></li>
            <li><a href="/webhooks/">Webhooks</a></li>
            <li><a href="/third-party-registration-integration/">Registration Integration</a></li>
            <li class='title'>Client side Examples</li>
            <li>Totals
              <ul>
                <li><a href="/client-side/campaign-totals/">Campaign totals</a></li>
                <li><a href="/client-side/page-total/">Page totals</a></li>
              </ul>
            </li>
            <li><a href="/widgets/">Widgets</a></li>
          </ul>
        </nav>
      </div>
    </aside>
    <section class="l--70 m--100 right content">
      <div class="inner">
        
          <h1>Overview</h1>
          <h2 id="environments">Environments</h2>

<p>We have two environments available for use: sandbox and production. Sandbox should be used when initiating any integration work with the everydayhero API.
Once development and appropriate QA has been completed we will provide you with additional production credentials if required.</p>

<p>Sandbox: <a href="https://edheroz.com">https://edheroz.com</a><br>
Sandbox OAuth domain: passport.edheroz.com</p>

<p>Production: <a href="https://everydayhero.com">https://everydayhero.com</a><br>
Production OAuth domain: passport.everydayhero.com</p>

<h2 id="schema">Schema</h2>

<p>All API access is over HTTPS, and accessed from the everydayhero.com/api/v2 domain. All data is sent and received as JSON. A suffix of .json is required for GET requests. .jsonp suffix can be used for cross domain requests, with a require callback
parameter.</p>

<pre><code>$ curl -i https://everydayhero.com/api/v2/leaderboards

HTTP/1.1 200 OK
Etag: "953c3675962fbabd0bc23fc2072ac018"
Last-Modified: Sat, 05 Jan 2013 07:17:33 GMT
Content-Type: application/json; charset=utf-8
Cache-Control: max-age=0, private, must-revalidate
X-Ua-Compatible: IE=Edge
X-Request-Id: 8ceea1bf56032cadf9a91c4365450e0e
X-Runtime: 0.056746
Content-Length: 19
Server: WEBrick/1.3.1 (Ruby/1.9.3/2012-04-20)
Date: Sat, 05 Jan 2013 11:40:26 GMT
Connection: Keep-Alive

{"leaderboards":[]}
</code></pre>

<p>Blank fields are included as null instead of being omitted.</p>

<p>All timestamps are returned in ISO 8601 format:</p>

<pre><code>YYYY-MM-DDThh:mm:ssZ
</code></pre>

<h2 id="parameters">Parameters</h2>

<p>Many API methods take optional parameters. For GET requests, any
parameters not specified as a segment in the path can be passed as an
HTTP query string parameter:</p>

<pre><code>$ curl -i https://everydayhero.com/api/v2/leaderboards?ids=123
</code></pre>

<p>In this example the <code>ids</code> parameter is passed in the query string.</p>

<p>For POST requests, parameters not included in the URL should be encoded
as JSON with a Content-Type of ‘application/x-www-form-urlencoded’:</p>

<pre><code>$ curl -i -H "Authorization: Token token=your-token" -d '{}' https://everydayhero.com/api/v2
</code></pre>

<h2 id="auth-errors">Auth Errors</h2>

<p>There are two possible auth errors supported by the API:</p>

<ol>
  <li>
    <p>Requesting resources that require authentication will result in a
<code>401 Unauthorized</code> response.</p>

    <p>HTTP/1.1 401 Unauthorized
 Date: Sun, 20 Jan 2013 21:58:06 GMT
 Status: 401 Unauthorized
 Strict-Transport-Security: max-age=31536000
 Content-Type: application/json; charset=utf-8
 X-UA-Compatible: IE=Edge,chrome=1
 Cache-Control: no-cache
 X-Request-Id: a024f7bfdcd8174551b46f8a15cfdac5
 X-Runtime: 0.007114
 X-Rack-Cache: miss
 Transfer-Encoding: chunked</p>

    <p>“error”: {
   “message”: “You need to authenticate for this resource”
 }</p>
  </li>
  <li>
    <p>Requesting resources that you do not have permission to request will
result in a <code>403 Forbidden</code> response.</p>

    <p>HTTP/1.1 403 Forbidden
 Date: Sun, 20 Jan 2013 21:58:08 GMT
 Status: 403 Forbidden
 Strict-Transport-Security: max-age=31536000
 Content-Type: application/json; charset=utf-8
 X-UA-Compatible: IE=Edge,chrome=1
 Cache-Control: no-cache
 X-Request-Id: a024f7bfdcd8174551b46f8a15cfdac5
 X-Runtime: 0.007114
 X-Rack-Cache: miss
 Transfer-Encoding: chunked</p>

    <p>“error”: {
   “message”: “You are not authorized to view this resource”
 }</p>
  </li>
</ol>

<h2 id="validation-errors">Validation Errors</h2>

<p>All validation errors resulting from a POST or PUT request will contain
a message and an array of errors. For more information on fixing the
validation errors see the corresponding documentation for the request.</p>

<pre><code>"error": {
   "message": "Validation failed",
   "errors": [
     {
       "field": "uid",
       "code": "invalid"
     }
   ]
 }
</code></pre>

<h2 id="http-verbs">HTTP Verbs</h2>

<p>Where possible, the API uses the appropriate HTTP verbs</p>

<dl>
  <dt>GET</dt>
  <dd>Used for retrieving resources</dd>
  <dt>POST</dt>
  <dd>Used when creating resources</dd>
  <dt>PUT</dt>
  <dd>Used when updating resources</dd>
  <dt>DELETE</dt>
  <dd>Used when deleting resources</dd>
</dl>

<h2 id="authentication">Authentication</h2>

<p>There are three methods of authentication for the API:</p>

<ul>
  <li>RegisteredApplication, for API calls not via OAuth</li>
  <li>OAuthClient, for API calls directly from your OAuth Application</li>
  <li>OAuthUser, for API calls on behalf of users</li>
</ul>

<h3 id="registered-application-authentication">Registered Application Authentication</h3>

<p>This endpoint is used for all endpoints which aren’t scoped via OAuth. This API
key is the key provided by EDH Professional Services.</p>

<pre><code>$ curl -i -H "Authorization: Token token=your-token" https://everydayhero.com/api/v2
</code></pre>

<p>Authenticated API access is tied at the campaign level - this means that
any and all information created or updated can only take place within
the specified campaign.</p>

<p>For API actions that require a UID, users will be required to authenticate 
<a href="/oauth-integration/#how-to-authenticate-with-edh">via OAuth</a> 
which provides a UID in the response.</p>

<h2 id="oauth-client-authentication">OAuth Client Authentication</h2>

<p>To fetch your Client API token, it requires doing the following request:</p>

<pre><code>POST /oauth/token?grant_type=client_credentials&amp;client_id=x&amp;client_secret=x
</code></pre>

<p>This will return JSON containing your OAuth Client token.</p>

<h2 id="oauth-user-authentication">OAuth User Authentication</h2>

<p>After a user connection flow via OAuth, a token will be provided that will be
usuable on OAuth user scoped API calls.</p>

<h2 id="pagination">Pagination</h2>

<p>Every endpoint which returns data has the option to return that data in a paged
format. Pagination allows a subset of the data to be returned instead of the entire
dataset.</p>

<p>Endpoints are optionally paginated, however if the resource attempts to retrieve
more than 1000 objects, and error will be returned. This can be resolved by
using pagination for all requests.</p>

<pre><code>{
  "error": {
    "status": "unprocessable_entity",
    "message": "Response too large, please paginate"
  }
}
</code></pre>

<h3 id="parameters-1">Parameters</h3>

<p>limit : <em>optional</em> <strong>integer</strong><br>
The number of items per page.</p>

<p>page : <em>optional</em> <strong>integer</strong><br>
The page number to return.</p>

<h3 id="example">Example</h3>

<pre><code>https://everydayhero.com/api/v2/pages.json?limit=10&amp;page=1
</code></pre>

<h3 id="response">Response</h3>

<pre><code>{
  "pages":[ ... ],
  "meta":{
    "count":138718,
    "current_page":1,
    "total_pages":139,
    "first_page":true,
    "last_page":false
  }
}
</code></pre>

<h2 id="caching">Caching</h2>

<p>GET requests for Pages, Campaigns, Charities and Campaign Leaderboards are cached for 10minutes. The cache is a rolling 10 minute period which is unique for each endpoint. Data for these responses will be no older than 10 minutes.</p>

        
      </div>
    </section>
  </section>
  <script src="/javascripts/jquery.js"></script>
  <script src="/javascripts/app.js"></script>
</body>
</html>
