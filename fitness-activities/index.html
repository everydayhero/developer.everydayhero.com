<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>everydayhero API: Fitness Activities</title>
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/stylesheets/pygments.css">
  <link rel="stylesheet" href="/stylesheets/app.css">
  <!--[if lt IE 9]>
    <script src="/javascripts/html5shiv-printshiv.js"></script>
  <![endif]-->
</head>
<body id=''>
  <header class="header top a--100">
    <a href="/"><h1>everydayhero: Developer</h1></a>
  </header>
  <section class="main center">
    <aside class="l--30 m--100 left side-bar">
      <div class="inner">
        <nav>
            <div id='internal_api'>
              <ul>
                <li><a href="/internal/">Internal API</a>
                  <ul>
                    <li><a href="/internal/campaign-groups/">Campaign Groups</a></li>
                    <li><a href="/internal/charities/">Charities</a></li>
                    <li><a href="/internal/campaigns/">Campaigns</a></li>
                  </ul>
                </li>
              </ul>
            </div>
            <div id='partner_api'>
              
              <ul>
                <li><a href="/partner/">Partner API</a>
                  <ul>
                    <li><a href="/partner/custom-authentication/">Custom Authentication</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          <ul>
            <li><a href="/">Introduction</a></li>
            <li>
              <a href="/overview/">Overview</a>
              <ul id='menu_overview'>
                <li><a href="/overview/#environments">Environments</a></li>
                <li><a href="/overview/#schema">Schema</a></li>
                <li><a href="/overview/#parameters">Parameters</a></li>
                <li><a href="/overview/#auth-errors">Auth Errors</a></li>
                <li><a href="/overview/#validation-errors">Validation Errors</a></li>
                <li><a href="/overview/#http-verbs">HTTP Verbs</a></li>
                <li><a href="/overview/#pagination">Pagination</a></li>
                <li><a href="/overview/#caching">Caching</a></li>
                <li><a href="/rate-limits/">Rate limits</a></li>
                <li><a href="/glossary/">Glossary</a></li>
              </ul>
            </li>
            <li><a href="/authentication/">Authentication</a></li>


            <li class='title'>Resources</li>
            <li><a href="/campaigns/">Campaigns</a></li>
            <li> - <a href="/campaign-groups/">Groups</a></li>
            <li><a href="/charities/">Charities</a></li>
            
            <li><a href="/metadata/">Metadata</a></li>
            <li><a href="/pages/">Pages</a></li>
            <li> - <a href="/fitness-activities/">Fitness Activities</a></li>
            <li> - <a href="/posts/">Posts</a></li>
            <li>
              <a href="/teams/">Teams</a>
              <ul id='menu_teams'>
                <li><a href="/invitations/">Invitations</a>
                  <ul>
                    <li><a href="/invitations/#create-individual-page-invitation">Individual Page</a></li>
                    <li><a href="/invitations/#create-join-a-team-invitation">Join Team Invitation</a></li>
                  </ul>
                </li>
                <li><a href="/join-requests/">Join Requests</a></li>
                <li><a href="/members/">Members</a></li>
              </ul>
            </li>
            <li><a href="/users/">Users</a></li>
            <li><a href="/search/#volunteering-opportunities">Volunteering</a></li>
            <li class='title'>Leaderboards</li>
            <li><a href="/leaderboards/">Static Page Leaderboards</a></li>
            <li><a href="/dynamic-leaderboards/">Dynamic Page Leaderboards</a></li>
            <li><a href="/search-fitness-activities/">Fitness Activity Leaderboards</a></li>
            <li class='title'>Search &amp; Totals</li>
            <li><a href="/search/">Search</a></li>
            <li><a href="/totals/">Totals</a></li>

            <li class='title'>Integration Overviews</li>
            <li><a href="/oauth-integration/">OAuth Integration</a></li>
            <li><a href="/notifications/">Alerts/Notifications</a></li>
            <li><a href="/webhooks/">Webhooks</a></li>
            <li><a href="/third-party-registration-integration/">Registration Integration</a></li>
            <li class='title'>Client side Examples</li>
            <li>Totals
              <ul>
                <li><a href="/client-side/campaign-totals/">Campaign totals</a></li>
                <li><a href="/client-side/page-total/">Page totals</a></li>
              </ul>
            </li>
            <li><a href="/widgets/">Widgets</a></li>
          </ul>
        </nav>
      </div>
    </aside>
    <section class="l--70 m--100 right content">
      <div class="inner">
        
          <h1>Fitness Activities</h1>
          
<ul id="markdown-toc">
  <li><a href="#retreive-a-list-of-fitness-activities">Retreive a list of Fitness Activities</a></li>
  <li><a href="#createupdate-fitness-activity">Create/Update Fitness Activity</a></li>
</ul>

<p>Pages can have fitness activities associated with them. Complementary to fitness 
activities synced from within the application (e.g. Strava, MapMyFitness),
applications can create their own activities.</p>

<p>Example activity on a supporter page:</p>

<p><img src="/images/fitness.jpg" alt="Authorization Screen"></p>

<h2 id="retreive-a-list-of-fitness-activities">Retreive a list of Fitness Activities</h2>

<pre><code>GET https://everydayhero.com/api/v2/search/fitness_activities
</code></pre>

<h3 id="parameters">Parameters</h3>

<p>charity_id : <em>optional</em> <strong>string</strong> or <strong>Array</strong><br>
Charity ID, only totals for that the specified Charity will be retrieved.
An Array of IDs can be provided, eg: charity_id[]=au-1&amp;charity_id[]=au-2</p>

<p>campaign_id : <em>optional</em> <strong>string</strong> or <strong>Array</strong><br>
Campaign ID, only totals for that the specified Campaign will be retrieved.
An Array of IDs can be provided, eg: campaign_id[]=au-1&amp;campaign_id[]=au-2</p>

<p>page_id : <em>optional</em> <strong>string</strong> or <strong>Array</strong><br>
Page ID, only totals for the specified Pages will be retrieved.
An Array of IDs can be provided, eg: page_id[]=111&amp;page_id[]=456</p>

<p>team_id : <em>optional</em> <strong>string</strong><br>
team_uid : <em>optional</em> <strong>string</strong><br>
team_page_id : <em>optional</em> <strong>string</strong><br>
Team ID, only totals for that the specified Team will be retrieved.</p>

<p>start_at : <em>optional</em> <strong>string/date-time</strong><br>
Start at date, ISO format: “2014-08-20 05:02:13”, filter totals by a range.</p>

<p>end_at : <em>optional</em> <strong>string/date-time</strong><br>
End at date, ISO format: “2014-08-20 05:02:13”, filter totals by a range.</p>

<p>type : <em>optional</em> <strong>string</strong><br>
Filter by activity type: e.g. bike, gym, hike, run, sport, swim, walk</p>

<p>include_manual : <em>optional</em> <strong>boolean</strong><br>
Include manually entered activities. Default: false.</p>

<p>exclude_virtual : <em>optional</em> <strong>boolean</strong><br>
Exclude virtual activities. Default: false</p>

<p>exclude_non_virtual : <em>optional</em> <strong>boolean</strong><br>
Exclude non-virtual activities. Default: false</p>

<h4 id="pagination">Pagination</h4>

<p>For more information about pagination, please see the <a href="/overview/#pagination">pagination
overview</a>.</p>

<p>limit : <em>optional</em> <strong>integer</strong><br>
The number of items per page.</p>

<p>page : <em>optional</em> <strong>integer</strong><br>
The page number to return.</p>

<h3 id="example">Example</h3>

<pre><code>https://everydayhero.com/api/v2/search/fitness_activities.json?campaign_id=au-0
</code></pre>

<h3 id="response">Response</h3>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"fitness_activities"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">13342</span><span class="p">,</span>
      <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"trailyoursteps-3476623"</span><span class="p">,</span>
      <span class="s2">"page_id"</span><span class="o">:</span> <span class="mi">297062</span><span class="p">,</span>
      <span class="s2">"team_id"</span><span class="o">:</span> <span class="mi">24093</span><span class="p">,</span>
      <span class="s2">"charity_uid"</span><span class="o">:</span> <span class="s2">"au-599"</span><span class="p">,</span>
      <span class="s2">"campaign_uid"</span><span class="o">:</span> <span class="s2">"au-0"</span><span class="p">,</span>
      <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"bike"</span><span class="p">,</span>
      <span class="s2">"virtual"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"manual"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"trainer"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"flagged"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"public"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"deleted"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"started_at"</span><span class="o">:</span> <span class="s2">"2015-10-27T01:32:25.000Z"</span><span class="p">,</span>
      <span class="s2">"coordinate"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"lat"</span><span class="o">:</span> <span class="mf">37.54106</span><span class="p">,</span>
        <span class="s2">"lon"</span><span class="o">:</span> <span class="o">-</span><span class="mf">77.4341</span>
      <span class="p">},</span>
      <span class="s2">"distance_in_meters"</span><span class="o">:</span> <span class="mi">10107</span><span class="p">,</span>
      <span class="s2">"elevation_in_meters"</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
      <span class="s2">"calories"</span><span class="o">:</span> <span class="mi">273</span><span class="p">,</span>
      <span class="s2">"duration_in_seconds"</span><span class="o">:</span> <span class="mi">957</span><span class="p">,</span>
      <span class="s2">"caption"</span><span class="o">:</span> <span class="s2">"Lunch Ride"</span><span class="p">,</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"fitness_activity"</span><span class="p">,</span>
      <span class="s2">"_sort"</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">1445909545000</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="createupdate-fitness-activity">Create/Update Fitness Activity</h2>

<p class="info"><strong>Authentication types</strong>: OAuth User Token only</p>

<pre><code>POST https://everydayhero.com/api/v2/fitness_activities
</code></pre>

<h3 id="parameters-1">Parameters</h3>

<p>uid : <em>required</em> <strong>string</strong><br>
Unique identifier to fitness activity, to be used later for updating activities if required.</p>

<p>type : <em>required</em> <strong>string</strong><br>
Fitness activity type, supported types: bike, gym, hike, run, swim, walk and sport.</p>

<p>duration_in_seconds : <em>required</em> <strong>integer</strong><br>
Duration of activity, in seconds.</p>

<p>manual : <em>optional</em> <strong>boolean</strong><br>
Manually logged activity, should be true if this manually user created activity, false if it is logged via an application.<br></p>

<p>virtual : <em>optional</em> <strong>boolean</strong><br>
Virtually logged activity, should be true if this is via a virtual app, eg Zwift, false for most cases.<br></p>

<p>trainer : <em>optional</em> <strong>boolean</strong><br>
Trainer logged activity, should be true if this is via a cycling turbo trainer, false for most cases.<br></p>

<p>public : <em>required</em> <strong>boolean</strong><br>
Must be true for the fitness activity to be visible.</p>

<p>started_at : <em>required</em> <strong>date/time</strong><br>
Timestamp for start of activity, ISO8601 format.</p>

<p>caption : <em>required</em> <strong>string</strong><br>
Title/caption for activity.</p>

<p>distance_in_meters : <em>optional</em>  <strong>integer</strong><br>
Distance covered for activity, in meters.</p>

<p>distance : <em>optional</em>  <strong>integer</strong><br>
Distance covered for activity, in any distance format. Requires <strong>unit</strong> attributes to be sent<br></p>

<p>unit : <em>optional</em>  <strong>string</strong><br>
Unit for distance, e.g.: meter, foot, step, yard, mile, km. Requires <strong>distance</strong> attribute to be sent.<br></p>

<p>calories : <em>optional</em> <strong>integer</strong><br>
kcals total burned per activity, e.g. ~600 for a 10km run.</p>

<p>coordinates : <em>optional</em> <strong>Array</strong><br>
To be used to render a map, if provided. Array of lat/longs,<br>
e.g. [[10.614, -7.031],[10.612, -7.027],[10.609, -7.020]..]</p>

<p>elevation_series : <em>optional</em> <strong>Array</strong><br>
Array of elevation points (in meters), used to render an elevation chart if provided.<br>
e.g. [0.2, 0.8, 1.2, 5.6]</p>

<p>average_watts : <em>optional</em> <strong>integer</strong><br>
Average power output for an activity (normally a ‘bike’ activity).</p>

<p>average_heartrate : <em>optional</em> <strong>integer</strong><br>
Average heart rate in bpm for an activity.</p>

<p>average_cadence : <em>optional</em> <strong>integer</strong><br>
Average cadence in rpm for an activity (normally a ‘bike’ activity).</p>

<p>average_temp : <em>optional</em> <strong>integer</strong><br>
Average external temperature in degrees celcius for an activity.</p>

<p>description : <em>optional</em> <strong>string</strong><br>
Description of an activity.</p>

<h3 id="example-1">Example</h3>

<pre><code>curl -H "Authorization: Bearer XXX" \
-d "{\"uid\":\"abc\",\"type\":\"bike\",\"duration_in_seconds\":1234,\"public\":true,\"started_at\":\"2015-01-01 09:00:00\",\"distance_in_meters\":1234,\"calories\":100,\"coordinates\":[[10.614,-7.031],[10.612,-7.027],[10.609,-7.02]],\"elevation_series\":[0.2,0.8,1.2,5.6],\"caption\":\"test-ride\"}" \
https://everydayhero.com/api/v2/fitness_activities.json
</code></pre>

<h3 id="response-1">Response</h3>

<p>201 CREATED</p>

<p>or </p>

<p>422 Unprocessable Entity</p>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"error"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"Validation failed"</span><span class="p">,</span>
    <span class="s2">"error"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"field"</span><span class="o">:</span> <span class="s2">"type"</span><span class="p">,</span>
        <span class="s2">"code"</span><span class="o">:</span> <span class="s2">"invalid"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

        
      </div>
    </section>
  </section>
  <script src="/javascripts/jquery.js"></script>
  <script src="/javascripts/app.js"></script>
</body>
</html>
